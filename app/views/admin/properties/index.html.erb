<h2 class="text-2xl md:text-3xl text-center mt-25 font-bold">Admin Dashboard</h2>
<div class="p-4 ml-4 lg:ml-64 flex flex-col mb-50 mt-6 overflow-x-scroll">
  <h3 class="text-2xl md:text-3xl ml-4 font-bold mb-4">Key Metrics</h3>
  <div class="inline-flex gap-3 md:gap-6 lg:gap-12 ml-4">
    <div class="border border-neutral-700 w-40 h-40 bg-sky-300 rounded-2xl py-12 px-12">
      <p class="font-semibold">Users</p>
      <span class="pl-2"><%= User.count %></span>
    </div>
    <div class="border border-neutral-700 w-60 h-40 bg-sky-300 rounded-2xl py-12 px-12">
      <p class="font-semibold">Properties</p>
      <span class="pl-2"><%= Property.count %></span><br/>
      <span class="pl-2 text-red-500"><%= @properties.pending.count %> Pending</span>
    </div>
    <div class="border border-neutral-700 w-40 h-40 bg-sky-300 rounded-2xl py-12 px-12">
      <p class="font-semibold">Inquiries</p>
      <span class="pl-2"><%= Inquiry.count %></span>
    </div>
  </div>
  <h3 class="text-2xl md:text-3xl  font-bold my-6 ml-4">Users Overview</h3>
  <div class="inline-flex gap-3 md-gap-6 lg-gap-12 ml-4">
    <div class="border border-neutral-700 w-40 h-40 rounded-2xl py-12 px-12">
      <p class="font-semibold">Landlords</p>
      <%= User.with_role(:landlord).count %>
    </div>
    <div class="border border-neutral-700 w-40 h-40 rounded-2xl py-12 px-12">
      <p class="font-semibold">Tenants</p>
      <%= User.count %>
    </div>
    <div class="border border-neutral-700 w-40 h-40 rounded-2xl py-12 px-12">
      <p class="font-semibold">Admins</p>
      <%= User.with_role(:admin).count %>
    </div>
  </div>
  <div class="ml-4">
    <div class="my-6">
      <h3 class="text-2xl md:text-3xl font-bold mb-4">Properties Waiting Approval</h3>
    </div>
    <div class="relative flex flex-col w-[800px] h-full overflow-x-scroll text-gray-700 bg-white shadow-md rounded-lg bg-clip-border">
      <% if @properties.any? %>
        <table class="table-auto text-left min-w-max bg-white">
          <thead>
            <tr>
              <th class="py-2 px-4 border-b border-slate-200 bg-slate-50">
                <p class="text-sm font-normal leading-none text-slate-500">Title</p>
              </th>
              <th class="py-2 px-4 border-b border-slate-200 bg-slate-50">
                <p class="text-sm font-normal leading-none text-slate-500">Landlord</p>
              </th>
              <th class="py-2 px-4 border-b border-slate-200 bg-slate-50">
                <p class="text-sm font-normal leading-none text-slate-500">Location</p>
              </th>
              <th class="py-2 px-4 border-b border-slate-200 bg-slate-50">
                <p class="text-sm font-normal leading-none text-slate-500">Price</p>
              </th>
              <th class="py-2 px-4 border-b border-slate-200 bg-slate-50">
                <p class="text-sm font-normal leading-none text-slate-500">Actions</p>
              </th>
            </tr>
          </thead>
          <tbody>
            <% @properties.each do |property| %>
              <tr class="hover:bg-slate-50 border-b border-slate-200">
                <td class="p-4 py-5"><%= property.title %></td>
                <td class="p-4 py-5"><%= property.user.email %></td>
                <td class="p-4 py-5"><%= property.location %></td>
                <td class="p-4 py-5">KSH <%= (property.price) %></td>
                <td class="p-4 py-5">
                  <%= link_to "Approve", approve_admin_property_path(property), data: { turbo_method: :patch }, class: "bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded" %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p class="text-red-500 ml-4">No pending properties found.</p>
      <% end %>
    </div>
  </div>
</div>
